{% import "macros/macros.html" as post_macros %}
{% import "macros/toc.html" as toc_macros -%}

<!DOCTYPE html>
<html lang="{{lang}}">
{% include "partials/header.html" %}

<body>
    <div class="content">
        {% include "partials/head.html" %}

        {% block main_content %}
        <main class="list">
            <div class="site-description">
                {% if config.description %}
                    {{ config.description | markdown | safe }}
                {% endif %}
            </div>

            {%- if paginator %}
                {%- set show_pages = paginator.pages -%}
            {% else %}
                {% set section = get_section(path="posts/_index.md") %}
                {%- set show_pages = section.pages -%}
            {% endif -%}

            {{ post_macros::list_posts(pages=show_pages, extra=config.extra) }}
        </main>

        {% if paginator %}
        <ul class="pagination">
            {% if paginator.previous %}
                <li class="page-item page-prev">
                    <a href="{{ paginator.previous }}" class="page-link" aria-label="{{ config.extra.translations[lang][0].previous_page }}"> {{ config.extra.translations[lang][0].previous_page }}</a>
                </li>
            {% else %}
                <li class="page-item page-prev">
                    <span class="page-link disabled" aria-disabled="true" aria-label="{{ config.extra.translations[lang][0].previous_page }} (disabled)"> {{ config.extra.translations[lang][0].previous_page }}</span>
                </li>
            {% endif %}
    
            <li class="page-item page-numbers">
                {{ paginator.current_index }} / {{ paginator.number_pagers }}
            </li>
    
            {% if paginator.next %}
                <li class="page-item page-next">
                    <a href="{{ paginator.next }}" class="page-link" aria-label="{{ config.extra.translations[lang][0].next_page }}">{{ config.extra.translations[lang][0].next_page }} </a>
                </li>
            {% else %}
                <li class="page-item page-next">
                    <span class="page-link disabled" aria-disabled="true" aria-label="{{ config.extra.translations[lang][0].next_page }} (disabled)">{{ config.extra.translations[lang][0].next_page }} </span>
                </li>
            {% endif %}
        </ul>
    {% endif %}

        {% endblock main_content %}

        {% include "partials/footer.html" %}
    </div>
</body>

</html>
